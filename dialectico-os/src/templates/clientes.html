{% extends "base.html" %}

{% block title %}Clientes - DialÃ©ctico OS{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-8">
    <div>
        <h1 class="text-3xl font-bold mb-2">Clientes</h1>
        <p class="text-slate-400">GestiÃ³n de clientes del estudio</p>
    </div>
    <a href="/cliente/nuevo" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-bold transition">
        + Nuevo Cliente
    </a>
</div>

<!-- Filtros -->
<div class="glass p-4 rounded-xl border border-slate-700 mb-6">
    <form class="flex gap-4">
        <select name="estado" class="bg-slate-800 border border-slate-700 rounded px-3 py-2">
            <option value="">Todos los estados</option>
            <option value="activo">Activo</option>
            <option value="inactivo">Inactivo</option>
            <option value="potencial">Potencial</option>
        </select>
        <button type="submit" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded transition">
            Filtrar
        </button>
    </form>
</div>

<!-- Lista -->
{% if clientes %}
    <div class="grid gap-4">
        {% for cliente in clientes %}
            <div class="glass p-5 rounded-xl border border-slate-700 hover:border-blue-500 transition">
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="font-bold text-lg">{{ cliente.nombre }}</h3>
                        <p class="text-sm text-slate-400">RUT: {{ cliente.rut }}</p>
                        {% if cliente.email %}
                            <p class="text-sm text-slate-400">ðŸ“§ {{ cliente.email }}</p>
                        {% endif %}
                        {% if cliente.telefono %}
                            <p class="text-sm text-slate-400">ðŸ“± {{ cliente.telefono }}</p>
                        {% endif %}
                    </div>
                    <div class="text-right">
                        <span class="px-2 py-1 rounded text-xs font-bold
                            {% if cliente.estado.value == 'activo' %}bg-green-900/50 text-green-400
                            {% elif cliente.estado.value == 'inactivo' %}bg-slate-700 text-slate-400
                            {% else %}bg-yellow-900/50 text-yellow-400{% endif %}">
                            {{ cliente.estado.value }}
                        </span>
                        <div class="mt-2">
                            <a href="/cliente/{{ cliente.id }}/editar" class="text-sm text-blue-400 hover:underline">Editar</a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="glass p-12 rounded-xl border border-slate-700 text-center">
        <p class="text-slate-400 mb-4">No hay clientes registrados</p>
        <a href="/cliente/nuevo" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-bold transition">
            Crear primer cliente
        </a>
    </div>
{% endif %}
{% endblock %}
